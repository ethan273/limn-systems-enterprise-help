# Introduction to Limn Systems Enterprise

Welcome to Limn Systems Enterprise - your complete solution for furniture design, production, and project management.

## What is Limn Systems?

Limn Systems Enterprise is a comprehensive platform that brings together design, production, and project management for the furniture industry.

### Core Capabilities

- **Design Management** - Collaborative design with boards, mood boards, and approvals
- **Product Catalog** - Manage 4000+ materials, collections, and SKUs
- **Order Management** - Create and track orders from quote to delivery
- **Production Tracking** - Real-time manufacturing progress monitoring
- **Quality Control** - Comprehensive QC inspection workflows
- **Mobile Tasks** - Offline-capable mobile task management with photo capture
- **Portal Access** - Dedicated portals for customers, designers, and factories
- **Automation** - Workflow engine with smart automation rules

## Who Uses Limn Systems?

### Internal Teams
- **Sales & Account Managers** - Lead customer relationships and close deals
- **Design Team** - Create and manage design projects
- **Production Managers** - Oversee manufacturing operations
- **Finance & Accounting** - Handle invoicing and financial tracking
- **Quality Control** - Manage inspection workflows
- **Administrators** - Configure system and manage users

### External Partners
- **Customers** - Order tracking and project visibility
- **Designers** - Project collaboration and deliverable submission
- **Factory Partners** - Production management and quality tracking
- **QC Teams** - Quality inspection and reporting

## System Features

### Authentication & Access
- **Google Workspace SSO** for employees (@limn.us.com)
- **Magic link authentication** for external users
- **Role-based access control (RBAC)** with 15 database tables
- **Portal-specific permissions** with module-level control

### Core Modules
- **Dashboards** (10 specialized views) - Admin, Sales, Design, Production, Finance, CRM, QC, Projects, Orders, Tasks
- **Task Management** - Assignments, workflows, deadlines, mobile offline support
- **CRM & Sales** - Leads, contacts, opportunities, pipelines
- **Design Management** - Boards, mood boards, submissions, approvals
- **Product Catalog** - 4000+ materials, collections, SKUs
- **Order Processing** - Quotes, orders, tracking, delivery
- **Production Tracking** - Work orders, schedules, progress
- **Shipping & Logistics** - SEKO WMS integration (19 endpoints), multi-format label storage, tracking timeline
- **Finance & Invoicing** - QuickBooks integration, payments
- **Document Management** - Supabase storage, versioning, approval workflows
- **HR & Employees** - OAuth authentication, admin allowlist, partner contact management

### Portal System

#### Customer Portal
- **Orders** - View and track orders
- **Documents** - Access project documents
- **Financials** - View invoices and payments
- **Shipping** - Track shipments
- **Profile** - Manage account details

#### Designer Portal
- **Projects** - View assigned design projects
- **Submissions** - Submit deliverables with versioning
- **Documents** - Access design files
- **Quality** - View quality reports
- **Settings** - Manage preferences

#### Factory Portal
- **Orders** - View production orders
- **Quality** - View and submit QC data
- **Shipping** - Manage shipments
- **Documents** - Access production docs
- **Settings** - Configure notifications

#### QC Portal
- **Dashboard** - QC metrics overview
- **Inspections** - Create and manage inspections
- **History** - View past inspections
- **Upload** - Bulk photo upload with inspection linking
- **Status Updates** - Update inspection status

### Integrations
- **QuickBooks** - Accounting sync (invoices, payments, customers)
- **Resend** - Email campaigns with webhooks
- **Supabase** - Database, authentication, storage
- **SEKO** - Shipping and logistics
- **Sentry** - Error tracking and monitoring
- **Upstash Redis** - Rate limiting for emails

### Automation System
- **Workflow Engine** - Create automated workflows
- **Task Automation Rules** - Trigger-based automation
- **Performance Monitoring** - Execution metrics
- **Alert System** - Multi-channel notifications (email, in-app, Google Chat)
- **Real-Time Events** - SSE-based event streaming

## System Architecture

### Database
- **PostgreSQL** with Supabase
- **316 tables** with 4,297 columns
- **1,314 indexes** for performance
- **Row Level Security (RLS)** enabled
- **Daily automated backups**

### Backend
- **Next.js 13** App Router
- **tRPC v10** - Type-safe API (90+ routers)
- **Prisma ORM** - Database client
- **Zod** - Schema validation

### Frontend
- **React 18** with TypeScript
- **shadcn/ui** components
- **React Query** for data fetching
- **Tailwind CSS** for styling

### Performance
- **Dashboard Load**: 3-5 seconds (optimized from 60s)
- **Global Search**: 300ms (optimized from 2000ms)
- **18 Strategic Indexes** added October 2025
- **Bundle Size**: Optimized (-60MB AWS SDK removal)

## Role-Based Access Control (RBAC)

### System Overview
- **15 Database Tables** for roles, permissions, delegation
- **88% API Coverage** - 81 tRPC endpoints
- **5 Implementation Phases** - All complete

### Key Features
- **Core RBAC** - Roles, permissions, user assignments
- **Inline Permission Editor** - Grant/revoke individual permissions with audit trail
- **Permission Comparison View** - Role vs user vs effective permissions analysis
- **Advanced Features** - Conditions, delegation, approval workflows
- **Multi-Tenancy** - Tenant isolation, cross-tenant access, customer-scoped permissions
- **Permission Templates** - Reusable patterns
- **Session Constraints** - IP, time, device, location-based access

### Usage Example
```typescript
// Check permission
const canEdit = await hasPermission(userId, 'edit_content', {
  resource: { type: 'flipbook', id: flipbookId }
});

// Get effective roles (including delegation)
const roles = await getEffectiveRoles(userId);
const isAdmin = roles.includes('admin');
```

## Getting Help

Use the search bar above to find specific topics, or browse the categories in the navigation menu.

### Quick Links

- [Authentication Guide](/getting-started/authentication) - How to log in
- [Understanding User Roles](/getting-started/user-roles) - Permission levels
- [Navigating the Platform](/getting-started/navigation) - Find your way around
- [First Steps by Role](/getting-started/first-steps) - Initial setup

### Support Channels

- **Internal Employees**: #support Slack channel
- **External Users**: support@limn.us.com
- **Emergency Issues**: Contact your administrator
- **Documentation**: This help center (help.limn.us.com)

## System Status

### Recent Updates (October-November 2025)
- Schema sync: 100% complete (dev/prod parity)
- Performance optimization: 95% faster dashboard loads
- Portal access system: Complete implementation
- Automation system: 6,000+ lines of production code
- Logger migration: 100% complete (Pino universal logger)
- Email campaign system: Production ready with Flipbooks
- RBAC system: All 5 phases complete + inline editor & comparison view
- Mobile Tasks: Offline-capable PWA with photo capture and sync
- SEKO WMS Integration: 19 API endpoints, multi-format labels (PDF/ZPL/PNG), tracking timeline
- HR Management: Employee OAuth authentication, admin allowlist, partner contacts
- Manufacturer Capabilities: Inline-editable arrays (specializations, capabilities, certifications, languages)
- Modal Removal: Eliminated all create/edit modal dialogs for consistent UX

### Production Metrics
- **Uptime**: 99.9% SLA
- **Response Time**: < 500ms average
- **Database**: 100% schema sync
- **Security**: 0 vulnerabilities
- **Build Time**: 50 seconds
- **Type Safety**: 0 TypeScript errors
